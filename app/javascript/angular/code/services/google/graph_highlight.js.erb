import { removeMarker, drawMarker } from "./_map.js.erb";

<% helpers = ActionController::Base.helpers %>
const locationMarkerPath = "<%= helpers.image_path('location_marker.svg') %>"

let items = [];

export const hide = () => {
  items.forEach(item => {
    removeMarker(item.marker);
  });
  items = [];
};

export const show = points => {
  

  hide();
  points.forEach(point => {
    items.push({
      marker: drawMarker({
        position: { lat: point.latitude, lng: point.longitude },
        zIndex: 300000,
        icon: locationMarkerPath
      }),
      point: point
    });
  });
};
